{
  "stats": {
    "suites": 10,
    "tests": 42,
    "passes": 40,
    "pending": 0,
    "failures": 2,
    "testsRegistered": 42,
    "passPercent": 95.23809523809524,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false,
    "start": "2025-12-29T19:47:21.501Z",
    "end": "2025-12-29T19:49:47.109Z",
    "duration": 145608
  },
  "results": [
    {
      "uuid": "153d2b74-4f48-4dc1-a79c-740440ed44e6",
      "title": "",
      "fullFile": "cypress\\e2e\\auth-api.cy.js",
      "file": "cypress\\e2e\\auth-api.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "6f991a8b-6250-45ec-8306-75bd80ff05af",
          "title": "Auth vía API + DB real",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "crea un usuario, lo loguea y accede al perfil",
              "fullTitle": "Auth vía API + DB real crea un usuario, lo loguea y accede al perfil",
              "timedOut": null,
              "duration": 1848,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// 1️⃣ Crear usuario real (DB)\ncy.request(\"POST\", \"http://localhost:5000/api/auth/register\", {\n  name: user.name,\n  email: user.email,\n  password: user.password\n});\n// 2️⃣ Login por API\ncy.request(\"POST\", \"http://localhost:5000/api/auth/login\", {\n  email: user.email,\n  password: user.password\n}).then(res => {\n  const authData = {\n    token: res.body.token,\n    user: {\n      _id: res.body._id,\n      name: res.body.name,\n      email: res.body.email,\n      isAdmin: res.body.isAdmin\n    }\n  };\n  // Igual que tu AuthProvider\n  window.localStorage.setItem(\"auth\", JSON.stringify(authData));\n});\n// 3️⃣ Ir a perfil\ncy.visit(\"/profile\");\n// 4️⃣ Validaciones\ncy.contains(user.name).should(\"be.visible\");\ncy.contains(user.email).should(\"be.visible\");",
              "err": {},
              "uuid": "be4f3ed6-cbfe-43e0-a489-f605cf737c2f",
              "parentUUID": "6f991a8b-6250-45ec-8306-75bd80ff05af",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "be4f3ed6-cbfe-43e0-a489-f605cf737c2f"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 1848,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    },
    {
      "uuid": "ac119085-2876-4e76-88a5-af6f73941e65",
      "title": "",
      "fullFile": "cypress\\e2e\\auth.cy.js",
      "file": "cypress\\e2e\\auth.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "5e02c4fd-ed3a-407f-930a-54d47abaaf5e",
          "title": "verifico login y flujo ",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "flujo home/login y funcional",
              "fullTitle": "verifico login y flujo  flujo home/login y funcional",
              "timedOut": null,
              "duration": 2447,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.contains(\"Login\").click();\ncy.url().should(\"include\", \"/login\");\ncy.get('input[placeholder=\"tu@email.com\"]').should(\"exist\").type(Cypress.env(\"TEST_USER_EMAIL\"));\ncy.get('[data-cy=\"password\"]').should(\"exist\").type(Cypress.env(\"TEST_USER_PASSWORD\"));\ncy.contains(\"Ingresar\").click();\ncy.get(\".avatar\").should(\"exist\");",
              "err": {},
              "uuid": "9ecc9e8b-a4a2-4885-b107-8461d552cf9a",
              "parentUUID": "5e02c4fd-ed3a-407f-930a-54d47abaaf5e",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "login página aislada y funcional",
              "fullTitle": "verifico login y flujo  login página aislada y funcional",
              "timedOut": null,
              "duration": 2122,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit(\"/login\"); // directamente a la página de login\ncy.get('input[placeholder=\"tu@email.com\"]').should(\"exist\").type(Cypress.env(\"TEST_USER_EMAIL\"));\ncy.get('[data-cy=\"password\"]').should(\"exist\").type(Cypress.env(\"TEST_USER_PASSWORD\"));\ncy.contains(\"Ingresar\").click();\ncy.url().should(\"eq\", Cypress.config().baseUrl + \"/\"); //redirige al home\ncy.get(\".avatar\").should(\"exist\");",
              "err": {},
              "uuid": "01a681a5-be8e-401d-be80-f26d961cd9f8",
              "parentUUID": "5e02c4fd-ed3a-407f-930a-54d47abaaf5e",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "9ecc9e8b-a4a2-4885-b107-8461d552cf9a",
            "01a681a5-be8e-401d-be80-f26d961cd9f8"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 4569,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "bf592805-158b-4f62-a702-3ea6136bb9bf",
          "title": "verifico registrar y flujo ",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "flujo home/register y funcional",
              "fullTitle": "verifico registrar y flujo  flujo home/register y funcional",
              "timedOut": null,
              "duration": 2397,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.contains(\"Registro\").click();\ncy.url().should(\"include\", \"/register\");\ncy.contains(\"Registrarse\").should(\"exist\");\ncy.intercept(\"POST\", \"/api/auth/register\", {\n  statusCode: 201,\n  body: {\n    token: \"fake-token-123\",\n    _id: \"user123\",\n    name: \"Juan Pérez\",\n    email: \"juan@test.com\",\n    phone: \"444333\",\n    address: \"calle 1234\"\n  }\n}).as(\"registerRequest\");\n//Completo el form con datos de prueba\ncy.get('[data-cy=\"register-name\"]').type(\"Juan Pérez\");\ncy.get('[data-cy=\"register-email\"]').type(\"juan@test.com\");\ncy.get('[data-cy=\"register-password\"]').type(\"juan123!!\");\ncy.get('[data-cy=\"register-phone\"]').type(\"444333\");\ncy.get('[data-cy=\"register-address\"]').type(\"calle 1234\");\n//Cliquea y espera el mock si pasa\ncy.contains(\"Registrarse\").should(\"exist\").click();\ncy.wait('@registerRequest').its('response.statusCode').should('eq', 201);\n// luego verificar la UI\ncy.contains('Usuario creado con éxito').should('be.visible');\ncy.contains(\"Ir al inicio\").click();\ncy.get(\".avatar\").should(\"be.visible\");",
              "err": {},
              "uuid": "39a48b32-2488-4b0e-b75f-b6473284545d",
              "parentUUID": "bf592805-158b-4f62-a702-3ea6136bb9bf",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "register página aislada y funcional",
              "fullTitle": "verifico registrar y flujo  register página aislada y funcional",
              "timedOut": null,
              "duration": 3252,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit(\"/register\");\ncy.url().should(\"include\", \"/register\");\ncy.contains(\"Registrarse\").should(\"exist\");\ncy.intercept(\"POST\", \"/api/auth/register\", {\n  statusCode: 201,\n  body: {\n    token: \"fake-token-123\",\n    _id: \"user123\",\n    name: \"Juan Pérez\",\n    email: \"juan@test.com\",\n    phone: \"444333\",\n    address: \"calle 1234\"\n  }\n}).as(\"registerRequest\");\n//Completo el form con datos de prueba\ncy.get('[data-cy=\"register-name\"]').type(\"Juan Pérez\");\ncy.get('[data-cy=\"register-email\"]').type(\"juan@test.com\");\ncy.get('[data-cy=\"register-password\"]').type(\"juan123!!\");\ncy.get('[data-cy=\"register-phone\"]').type(\"444333\");\ncy.get('[data-cy=\"register-address\"]').type(\"calle 1234\");\n//Cliquea y espera el mock si pasa\ncy.contains(\"Registrarse\").should(\"exist\").click();\ncy.wait('@registerRequest').its('response.statusCode').should('eq', 201);\n// luego verificar la UI\ncy.contains('Usuario creado con éxito').should('be.visible');\ncy.contains(\"Ir al inicio\").click();\ncy.get(\".avatar\").should(\"be.visible\");",
              "err": {},
              "uuid": "255e8968-386f-426a-a5cf-f385f1147ca3",
              "parentUUID": "bf592805-158b-4f62-a702-3ea6136bb9bf",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "39a48b32-2488-4b0e-b75f-b6473284545d",
            "255e8968-386f-426a-a5cf-f385f1147ca3"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 5649,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "5b43f1cc-980b-4b22-a7b0-046bddc1ead0",
          "title": "links entre login y registro",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "desde login puedo ir a register",
              "fullTitle": "links entre login y registro desde login puedo ir a register",
              "timedOut": null,
              "duration": 549,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit(\"/login\");\ncy.contains(\"Regístrate aquí\").click();\ncy.url().should(\"include\", \"/register\");\ncy.contains(\"Registrarse\").should(\"exist\");",
              "err": {},
              "uuid": "7266807e-0a5e-459f-9398-fb4da066d271",
              "parentUUID": "5b43f1cc-980b-4b22-a7b0-046bddc1ead0",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "desde register puedo ir a login",
              "fullTitle": "links entre login y registro desde register puedo ir a login",
              "timedOut": null,
              "duration": 560,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit(\"/register\");\ncy.contains(\"Inicia sesión aquí\").click();\ncy.url().should(\"include\", \"/login\");\ncy.contains(\"Ingresar\").should(\"exist\");",
              "err": {},
              "uuid": "fb261a20-8f60-4414-825a-315eacbce5d8",
              "parentUUID": "5b43f1cc-980b-4b22-a7b0-046bddc1ead0",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "7266807e-0a5e-459f-9398-fb4da066d271",
            "fb261a20-8f60-4414-825a-315eacbce5d8"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 1109,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    },
    {
      "uuid": "ed05ac34-1b3d-4778-896e-7db04962e112",
      "title": "",
      "fullFile": "cypress\\e2e\\cart.cy.js",
      "file": "cypress\\e2e\\cart.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "3ab3242e-f2dd-4273-8f3f-0f7128533204",
          "title": "Funcionamiento del carrito y sus flujos",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "pruebo el flujo hasta el carrito",
              "fullTitle": "Funcionamiento del carrito y sus flujos pruebo el flujo hasta el carrito",
              "timedOut": null,
              "duration": 1140,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.get(\".carrito\").should(\"be.visible\").click();\ncy.contains(\"Mis productos\").should(\"be.visible\");",
              "err": {},
              "uuid": "35602b78-1f1a-4ee0-a0f2-3bb48bc483b0",
              "parentUUID": "3ab3242e-f2dd-4273-8f3f-0f7128533204",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "pruebo carrito vacio",
              "fullTitle": "Funcionamiento del carrito y sus flujos pruebo carrito vacio",
              "timedOut": null,
              "duration": 809,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit(\"/cart\");\ncy.url().should(\"include\", \"/cart\");\ncy.contains(\"Carrito vacío\");",
              "err": {},
              "uuid": "f9d3ff01-c222-4623-b244-f97fa6204998",
              "parentUUID": "3ab3242e-f2dd-4273-8f3f-0f7128533204",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "pruebo el flujo carrito con elemento",
              "fullTitle": "Funcionamiento del carrito y sus flujos pruebo el flujo carrito con elemento",
              "timedOut": null,
              "duration": 2002,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.get(\".grid a\").first().contains(\"Ver detalles\").click();\ncy.url().should(\"include\", \"/product/\");\n//Primer producto agregado\ncy.contains(\"Agregar al carrito\").should(\"be.visible\").click();\ncy.contains(\"Mi Tienda\").click();\ncy.get(\".carrito\").click();\ncy.get('[data-test=\"cart-item\"]').should(\"have.length.at.least\", 1);\ncy.get('[data-test=\"cart-item\"] [data-test=\"cart-price\"]').invoke(\"text\").should(\"match\", /\\$\\d+/);",
              "err": {},
              "uuid": "b40c8a9f-f23c-4c76-9321-a96aa778f7b5",
              "parentUUID": "3ab3242e-f2dd-4273-8f3f-0f7128533204",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "pruebo flujo carrito en guest",
              "fullTitle": "Funcionamiento del carrito y sus flujos pruebo flujo carrito en guest",
              "timedOut": null,
              "duration": 4419,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.get(\".grid a\").first().contains(\"Ver detalles\").click();\ncy.url().should(\"include\", \"/product/\");\n//Primer producto agregado\ncy.contains(\"Agregar al carrito\").should(\"be.visible\").click();\ncy.get(\".carrito\").click();\ncy.get('[data-test=\"cart-item\"]').should(\"have.length.at.least\", 1);\ncy.contains(\"Finalizar Compra\").click();\ncy.contains(\"Ir a login\").click();\ncy.get('form', {\n  timeout: 10000\n}).should(\"be.visible\");\ncy.url().should(\"include\", \"/login\");\ncy.get('input[placeholder=\"tu@email.com\"]', {\n  timeout: 10000\n}).should(\"be.enabled\").click().type(Cypress.env(\"TEST_USER_EMAIL\"), {\n  log: false\n});\ncy.get('[data-cy=\"password\"]', {\n  timeout: 10000\n}).should(\"be.enabled\").click().type(Cypress.env(\"TEST_USER_PASSWORD\"), {\n  log: false\n});\ncy.contains(\"Ingresar\").click();\ncy.get(\".carrito\").click();\ncy.get('[data-test=\"cart-item\"]').should(\"have.length.at.least\", 1);\ncy.get('[data-test=\"cart-total\"]').should(\"be.visible\").invoke(\"text\").should(\"match\", /\\$\\d+/);",
              "err": {},
              "uuid": "d8e1e0d3-f681-4215-9cd1-07451ca6dc35",
              "parentUUID": "3ab3242e-f2dd-4273-8f3f-0f7128533204",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "pruebo flujo compra con usuario",
              "fullTitle": "Funcionamiento del carrito y sus flujos pruebo flujo compra con usuario",
              "timedOut": null,
              "duration": 5251,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// 1. Logueo\ncy.login(); // comando custom que loguea al usuario\n// 2. Agregar productos\ncy.get(\".grid a\").first().contains(\"Ver detalles\").click();\ncy.contains(\"Agregar al carrito\").click();\ncy.contains(\"Mi Tienda\").click();\ncy.get(\".grid a\").eq(1).contains(\"Ver detalles\").click();\ncy.contains(\"Agregar al carrito\").click();\ncy.contains(\"Agregar al carrito\").click();\n// 3. Abrir carrito\ncy.get(\".carrito\").click();\ncy.get('[data-test=\"cart-item\"]').should(\"have.length.at.least\", 2);\n// 4. Verificar subtotales\ncy.get('[data-test=\"cart-item\"]').each($producto => {\n  cy.wrap($producto).find('[data-test=\"cart-line-total\"]').invoke(\"text\").then(subtotalText => {\n    const subtotal = Number(subtotalText.replace(/[^0-9]/g, ''));\n    cy.wrap($producto).find('input[type=\"number\"]').invoke('val').then(qty => {\n      cy.wrap($producto).find('[data-test=\"cart-price\"]').invoke('text').then(priceText => {\n        const price = Number(priceText.replace(/[^0-9]/g, ''));\n        expect(subtotal).to.eq(price * Number(qty));\n      });\n    });\n  });\n});\n// 5. Verificar total\nlet sumaSubtotales = 0;\ncy.get('[data-test=\"cart-line-total\"]').each($producto => {\n  const subtotal = Number($producto.text().replace(/[^0-9]/g, ''));\n  sumaSubtotales += subtotal;\n}).then(() => {\n  cy.get('[data-test=\"cart-total\"]').invoke('text').then(totalText => {\n    const total = Number(totalText.replace(/[^0-9]/g, ''));\n    expect(total).to.eq(sumaSubtotales);\n  });\n});\n// 6. Probar eliminar\ncy.get('[data-test=\"cart-item\"]').first().find('button').contains('Eliminar').click();\ncy.get('[data-test=\"cart-item\"]').should('have.length', 1);\n// 6bis. Verificar que el total se actualiza tras eliminar\nlet nuevoTotal = 0;\ncy.get('[data-test=\"cart-line-total\"]').each($el => {\n  nuevoTotal += Number($el.text().replace(/[^0-9]/g, ''));\n}).then(() => {\n  cy.get('[data-test=\"cart-total\"]').invoke('text').then(text => {\n    const totalActual = Number(text.replace(/[^0-9]/g, ''));\n    expect(totalActual).to.eq(nuevoTotal);\n  });\n});\n// 7. Mockear checkout para no gastar stock\ncy.intercept(\"POST\", \"http://localhost:5000/api/orders\", {\n  statusCode: 200,\n  body: {\n    message: \"¡Compra simulada con éxito!\"\n  }\n}).as(\"mockCheckout\");\n// 8. Finalizar compra\ncy.contains(\"Finalizar Compra\").click();\ncy.wait(\"@mockCheckout\"); // espera la llamada mock\ncy.contains(\"¡Compra realizada con éxito!\").should(\"be.visible\");\ncy.get('[data-test=\"cart-item\"]').should(\"have.length\", 0);",
              "err": {},
              "uuid": "f86efe18-2293-4554-a1b4-12285a94a8f4",
              "parentUUID": "3ab3242e-f2dd-4273-8f3f-0f7128533204",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "controla modificación de cantidades en el carrito",
              "fullTitle": "Funcionamiento del carrito y sus flujos controla modificación de cantidades en el carrito",
              "timedOut": null,
              "duration": 3134,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// 1. Logueo para asegurar acceso al carrito\ncy.login();\n// 2. Agrego un producto\ncy.get(\".grid a\").first().contains(\"Ver detalles\").click();\ncy.contains(\"Agregar al carrito\").click();\ncy.get(\".carrito\").click();\n// 3. Selecciono el primer producto del carrito\ncy.get('[data-test=\"cart-item\"]').first().as(\"item\");\n// 4. Guardo subtotal y precio unitario iniciales\nlet initialSubtotal, unitPrice;\ncy.get(\"@item\").find('[data-test=\"cart-price\"]').invoke(\"text\").then(text => {\n  unitPrice = Number(text.replace(/[^0-9]/g, \"\"));\n});\ncy.get(\"@item\").find('[data-test=\"cart-line-total\"]').invoke(\"text\").then(text => {\n  initialSubtotal = Number(text.replace(/[^0-9]/g, \"\"));\n});\n// 5. Intentar aumentar cantidad (solo si el botón no está deshabilitado)\ncy.get(\"@item\").find('button').contains(\"+\").then($btnPlus => {\n  if ($btnPlus.is(\":disabled\")) {\n    //aca en vez de las llaves y el log puede ir simplemente \"return;\"\n    cy.log(\"Stock máximo alcanzado\");\n  } else {\n    cy.wrap($btnPlus).click();\n    cy.wait(300);\n    cy.get(\"@item\").find('[data-test=\"cart-line-total\"]').invoke(\"text\").then(text => {\n      const newSubtotal = Number(text.replace(/[^0-9]/g, \"\"));\n      expect(newSubtotal).to.eq(initialSubtotal + unitPrice);\n    });\n  }\n});\n// 6. Intentar disminuir (siempre debería mantenerse ≥ 1)\ncy.get(\"@item\").find('button').contains(\"-\").then($btnMinus => {\n  if ($btnMinus.is(\":disabled\")) {\n    cy.log(\"Hay 1 sola unidad\");\n  } else {\n    cy.wrap($btnMinus).click();\n    cy.wait(300);\n    cy.get(\"@item\").find('input[type=\"number\"]').invoke(\"val\").then(qty => {\n      expect(Number(qty)).to.be.gte(1);\n    });\n  }\n});\n// 7. Editar manualmente el input (colocar cantidad 1 siempre válida)\ncy.get(\"@item\").find('input[type=\"number\"]').click().type(\"{selectall}1\").blur();\ncy.wait(300);\ncy.get(\"@item\").find('[data-test=\"cart-line-total\"]').invoke(\"text\").then(text => {\n  const manualSubtotal = Number(text.replace(/[^0-9]/g, \"\"));\n  expect(manualSubtotal).to.eq(unitPrice * 1);\n});",
              "err": {},
              "uuid": "a662cf01-62bf-4da1-b3bc-f1baa87834aa",
              "parentUUID": "3ab3242e-f2dd-4273-8f3f-0f7128533204",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "ajusta la cantidad al máximo y minimo permitidos",
              "fullTitle": "Funcionamiento del carrito y sus flujos ajusta la cantidad al máximo y minimo permitidos",
              "timedOut": null,
              "duration": 2919,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.login();\n// Agregar un producto al carrito\ncy.get(\".grid a\").first().contains(\"Ver detalles\").click();\ncy.contains(\"Agregar al carrito\").click();\ncy.get(\".carrito\").click();\n// Seleccionar el primer producto del carrito\ncy.get('[data-test=\"cart-item\"]').first().as(\"item\");\n// Forzar un valor exageradamente alto en el input (simula poner más que el stock real)\ncy.get('@item').find('input[type=\"number\"]').click().type('{selectall}10000').blur();\ncy.wait(400); // Esperar para que se actualice la UI\n// Verificar que el input se corrigió al máximo disponible (valor > 0)\ncy.get(\"@item\").find('input[type=\"number\"]').invoke(\"val\").then(val => {\n  const cantidad = Number(val);\n  expect(cantidad).to.be.greaterThan(0);\n  // Verificar que se muestra el mensaje de máximo\n  cy.get(\"@item\").contains(\"¡Máximo disponible!\").should(\"be.visible\");\n  // Verificar que el botón \"+\" esté deshabilitado\n  cy.get(\"@item\").find('button').contains(\"+\").should(\"be.disabled\");\n  // Si el stock máximo es mayor a 1, reducir y verificar que desaparezca el mensaje\n  if (cantidad > 1) {\n    cy.get(\"@item\").find('button').contains(\"-\").click();\n    cy.wait(300);\n    cy.get(\"@item\").contains(\"¡Máximo disponible!\").should(\"not.exist\");\n  } else {\n    // Si solo hay 1 unidad, el botón \"-\" debe estar deshabilitado\n    cy.get(\"@item\").find('button').contains(\"-\").should(\"be.disabled\");\n    cy.get(\"@item\").contains(\"¡Máximo disponible!\").should(\"be.visible\");\n  }\n});",
              "err": {},
              "uuid": "b76770a1-44cc-41b3-8d10-7b53554954f5",
              "parentUUID": "3ab3242e-f2dd-4273-8f3f-0f7128533204",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "verifica que el badge del carrito refleja la cantidad total de productos",
              "fullTitle": "Funcionamiento del carrito y sus flujos verifica que el badge del carrito refleja la cantidad total de productos",
              "timedOut": null,
              "duration": 3203,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.login();\n// Agregar varios productos\ncy.get(\".grid a\").eq(0).contains(\"Ver detalles\").click();\ncy.contains(\"Agregar al carrito\").click();\ncy.contains(\"Mi Tienda\").click();\ncy.get(\".grid a\").eq(1).contains(\"Ver detalles\").click();\ncy.contains(\"Agregar al carrito\").click();\ncy.contains(\"Agregar al carrito\").click(); // este se agrega 2 veces\ncy.contains(\"Mi Tienda\").click();\ncy.get(\".grid a\").eq(2).contains(\"Ver detalles\").click();\ncy.contains(\"Agregar al carrito\").click();\n// Obtener número del badge en el ícono del carrito\ncy.get(\".carrito span\").should(\"be.visible\").invoke(\"text\").then(badgeText => {\n  const badgeNum = Number(badgeText.trim());\n  // Abrir carrito y sumar las cantidades de todos los productos\n  cy.get(\".carrito\").click();\n  let suma = 0;\n  cy.get('[data-test=\"cart-item\"]').each($el => {\n    cy.wrap($el).find('input[type=\"number\"]').invoke(\"val\").then(val => {\n      suma += Number(val);\n    });\n  }).then(() => {\n    // Comparar la suma con el número del badge\n    expect(suma).to.equal(badgeNum);\n  });\n});",
              "err": {},
              "uuid": "365954c9-35f3-496d-9454-8f76ccf9c39c",
              "parentUUID": "3ab3242e-f2dd-4273-8f3f-0f7128533204",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "35602b78-1f1a-4ee0-a0f2-3bb48bc483b0",
            "f9d3ff01-c222-4623-b244-f97fa6204998",
            "b40c8a9f-f23c-4c76-9321-a96aa778f7b5",
            "d8e1e0d3-f681-4215-9cd1-07451ca6dc35",
            "f86efe18-2293-4554-a1b4-12285a94a8f4",
            "a662cf01-62bf-4da1-b3bc-f1baa87834aa",
            "b76770a1-44cc-41b3-8d10-7b53554954f5",
            "365954c9-35f3-496d-9454-8f76ccf9c39c"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 22877,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    },
    {
      "uuid": "130b579a-2c6d-4dce-adba-040fdda4c1f6",
      "title": "",
      "fullFile": "cypress\\e2e\\home.cy.js",
      "file": "cypress\\e2e\\home.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "288c9da0-b06e-4331-b249-a1f3ca2804b2",
          "title": "Home Page",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "debería mostrar el hero y el catálogo",
              "fullTitle": "Home Page debería mostrar el hero y el catálogo",
              "timedOut": null,
              "duration": 1318,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Navegar al home\ncy.visit(\"/\");\n// Hero\ncy.contains(\"Bienvenido a Mi Tienda\").should(\"be.visible\");\n// Verifico que hay un catálogo\ncy.contains(\"Catálogo\").should(\"be.visible\");\n// Footer\ncy.contains(\"Mi Ecommerce - Todos los derechos reservados\").should(\"be.visible\");\n// Verifico que exista al menos un producto en la lista\ncy.get(\".grid a\").should(\"have.length.greaterThan\", 0);\n// Verifico los datos en la primera tarjeta\ncy.get(\".producto-celda\").first().within(() => {\n  cy.get(\"h3\").should(\"be.visible\");\n  cy.get(\"p\").should(\"exist\");\n  cy.contains(\"Ver detalles\");\n});",
              "err": {},
              "uuid": "9f7a469d-ad34-4cb9-862e-ea3fecd42db6",
              "parentUUID": "288c9da0-b06e-4331-b249-a1f3ca2804b2",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "debería mostrar el mensaje si no hay productos (mock)",
              "fullTitle": "Home Page debería mostrar el mensaje si no hay productos (mock)",
              "timedOut": null,
              "duration": 565,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.fixture(\"emptyProducts.json\").then(emptyData => {\n  cy.intercept(\"GET\", \"**/api/products*\", {\n    statusCode: 200,\n    body: emptyData\n  }).as(\"getProductsEmpty\");\n});\ncy.visit(\"/\");\ncy.wait(\"@getProductsEmpty\");\ncy.contains(\"No hay productos disponibles\").should(\"be.visible\");\ncy.get(\".grid\").should(\"not.exist\");",
              "err": {},
              "uuid": "0c41f803-d482-49b5-b4c9-9cd1df9b493e",
              "parentUUID": "288c9da0-b06e-4331-b249-a1f3ca2804b2",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "debería andar la paginación y mostrar productos diferentes",
              "fullTitle": "Home Page debería andar la paginación y mostrar productos diferentes",
              "timedOut": null,
              "duration": 1325,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.visit(\"/\");\ncy.get(\".producto-celda h3\").first().invoke(\"text\").as(\"firstProductPage1\");\ncy.contains(\"Siguiente\").click();\ncy.get(\"@firstProductPage1\").then(textPage1 => {\n  cy.get(\".producto-celda h3\").first().should($el => {\n    expect($el.text()).to.not.equal(textPage1);\n  });\n});",
              "err": {},
              "uuid": "0ecd58cd-8370-455d-90ee-d88402e14f87",
              "parentUUID": "288c9da0-b06e-4331-b249-a1f3ca2804b2",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "debería permitir hacer click en 'Ver detalles' y navegar al detalle del producto",
              "fullTitle": "Home Page debería permitir hacer click en 'Ver detalles' y navegar al detalle del producto",
              "timedOut": null,
              "duration": 5439,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "cy.visit(\"/\");\n// Click en el primer producto\ncy.get(\".grid a\").first().click();\n// Verifico que cambió de ruta a detalle (ejemplo /product/:id)\ncy.url().should(\"include\", \"/product/\");\n// Verifico que en la página de detalle aparezcan datos clave\ncy.get(\"h1\").should(\"be.visible\"); // título del producto\n//imagen ver visibilidad\ncy.get('[data-test = \"product-image\"]').should(\"be.visible\").and($imagen => {\n  //$imagen es lo obtenido en el get ( una especie de objeto del dom)\n  expect($imagen[0].naturalWidth).to.be.greaterThan(0);\n});\ncy.contains(\"Agregar al carrito\").should(\"be.visible\"); // que aparezca el boton de agregar\ncy.contains(\"Descripción\").should(\"be.visible\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: expected 0 to be above 0",
                "estack": "AssertionError: Timed out retrying after 4000ms: expected 0 to be above 0\n    at Context.eval (webpack:///./cypress/e2e/home.cy.js:80:44)\n    at <unknown> (http://localhost:5173/__cypress/runner/cypress_runner.js:121042:17)\n    at tryCatcher (http://localhost:5173/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise.attempt.Promise.try (http://localhost:5173/__cypress/runner/cypress_runner.js:4285:29)\n    at Context.shouldFnWithCallback (http://localhost:5173/__cypress/runner/cypress_runner.js:121039:66)\n    at Context.shouldFn (http://localhost:5173/__cypress/runner/cypress_runner.js:121082:37)",
                "diff": ""
              },
              "uuid": "8743471d-6996-4e9c-87f3-46d01a1f1a21",
              "parentUUID": "288c9da0-b06e-4331-b249-a1f3ca2804b2",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "9f7a469d-ad34-4cb9-862e-ea3fecd42db6",
            "0c41f803-d482-49b5-b4c9-9cd1df9b493e",
            "0ecd58cd-8370-455d-90ee-d88402e14f87"
          ],
          "failures": [
            "8743471d-6996-4e9c-87f3-46d01a1f1a21"
          ],
          "pending": [],
          "skipped": [],
          "duration": 8647,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    },
    {
      "uuid": "26edb609-37b1-4a2d-ac69-317a29e2e1d0",
      "title": "",
      "fullFile": "cypress\\e2e\\navBar.cy.js",
      "file": "cypress\\e2e\\navBar.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "0da1346e-cfda-4242-8af9-12f00c5eb02d",
          "title": "Navbar con usuario logueado (no admin)",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "muestra las opciones correctas para usuario no admin",
              "fullTitle": "Navbar con usuario logueado (no admin) muestra las opciones correctas para usuario no admin",
              "timedOut": null,
              "duration": 1780,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.get(\"nav\").should(\"be.visible\");\ncy.get(\".carrito\").should(\"exist\");\ncy.get(\".avatar\", {\n  timeout: 8000\n}).should(\"be.visible\");\ncy.get(\".avatar\").click();\ncy.contains(\"Mi Perfil\").should(\"be.visible\");\ncy.contains(\"Mis Compras\").should(\"be.visible\");\ncy.contains(\"Cerrar Sesión\").should(\"be.visible\");\ncy.contains(\"Panel de Admin\").should(\"not.exist\");\ncy.contains(\"Mi Tienda\").click();\ncy.contains(\"Bienvenido a Mi Tienda\");",
              "err": {},
              "uuid": "71778052-f5f2-4e51-b430-d78fc52bb571",
              "parentUUID": "0da1346e-cfda-4242-8af9-12f00c5eb02d",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "71778052-f5f2-4e51-b430-d78fc52bb571"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 1780,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "019add2a-d70a-482e-a2e9-35dc8ca70bca",
          "title": "Navbar con usuario logueado (admin)",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "muestra las opciones correctas para usuario admin",
              "fullTitle": "Navbar con usuario logueado (admin) muestra las opciones correctas para usuario admin",
              "timedOut": null,
              "duration": 1982,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.get(\"nav\").should(\"be.visible\");\ncy.get(\".carrito\").should(\"exist\");\ncy.get(\".avatar\").should(\"be.visible\").click();\ncy.contains(\"Mi Perfil\").should(\"be.visible\");\ncy.contains(\"Mis Compras\").should(\"be.visible\");\ncy.contains(\"Panel de Admin\").should(\"be.visible\");\ncy.contains(\"Cerrar Sesión\").should(\"be.visible\");\ncy.contains(\"Panel de Admin\").click();\ncy.url().should(\"include\", \"/admin\");\ncy.contains(\"Gestión de Usuarios\");",
              "err": {},
              "uuid": "54ec60c1-7742-48c3-b8f3-b4a87b86d11c",
              "parentUUID": "019add2a-d70a-482e-a2e9-35dc8ca70bca",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "54ec60c1-7742-48c3-b8f3-b4a87b86d11c"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 1982,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "7e94d6c7-e04a-4a1c-8b84-698e551b93c4",
          "title": "Navbar con usuario invitado (guest)",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "muestra las opciones correctas para guest",
              "fullTitle": "Navbar con usuario invitado (guest) muestra las opciones correctas para guest",
              "timedOut": null,
              "duration": 608,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.get(\"nav\").should(\"be.visible\");\ncy.get(\".carrito\").should(\"exist\");\ncy.contains(\"Login\").should(\"be.visible\");\ncy.contains(\"Registro\").should(\"be.visible\");\ncy.get(\".avatar\").should(\"not.exist\");\ncy.contains(\"Mi Tienda\").click();\ncy.contains(\"Bienvenido a Mi Tienda\");",
              "err": {},
              "uuid": "ce4c19d7-cce9-4322-b38e-d049c9a99d8c",
              "parentUUID": "7e94d6c7-e04a-4a1c-8b84-698e551b93c4",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "ce4c19d7-cce9-4322-b38e-d049c9a99d8c"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 608,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    },
    {
      "uuid": "70ade039-d4d9-4a3f-8714-ce79a3275cc0",
      "title": "",
      "fullFile": "cypress\\e2e\\orderDetails.cy.js",
      "file": "cypress\\e2e\\orderDetails.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "c29d8e19-c1f3-4aa0-8441-933db1d673f5",
          "title": "Funcionamiento del panel de admin usuarios",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "Muestra mensaje cuando el usuario no tiene compras",
              "fullTitle": "Funcionamiento del panel de admin usuarios Muestra mensaje cuando el usuario no tiene compras",
              "timedOut": null,
              "duration": 2745,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.intercept(\"GET\", \"http://localhost:5000/api/orders/myorders\", {\n  statusCode: 200,\n  body: []\n}).as(\"mockMyOrders\");\ncy.login(Cypress.env(\"TEST_EMAIL\"), Cypress.env(\"TEST_PASSWORD\"));\ncy.get(\".avatar\").click();\ncy.contains(\"Mis Compras\").click();\ncy.wait(\"@mockMyOrders\");\ncy.contains(\"Mis Compras\").should(\"be.visible\");\ncy.contains(\"No tenés órdenes todavía.\").should(\"be.visible\");",
              "err": {},
              "uuid": "e1af1544-7811-4afb-803a-5f3054537a6e",
              "parentUUID": "c29d8e19-c1f3-4aa0-8441-933db1d673f5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Muestra la lista de compras del usuario y abre el detalle",
              "fullTitle": "Funcionamiento del panel de admin usuarios Muestra la lista de compras del usuario y abre el detalle",
              "timedOut": null,
              "duration": 2530,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// 1) Mock de /myorders\ncy.intercept(\"GET\", \"http://localhost:5000/api/orders/myorders\", {\n  statusCode: 200,\n  body: [{\n    _id: \"orderAAA\",\n    total: 8500,\n    status: \"Completada\",\n    createdAt: \"2025-09-20T12:00:00.000Z\",\n    orderItems: [{\n      productId: \"prodA1\",\n      name: \"Producto Prueba\",\n      quantity: 1,\n      price: 8500\n    }]\n  }]\n}).as(\"mockMyOrdersFilled\");\n// 2) Mock del GET de la orden individual\ncy.intercept(\"GET\", \"http://localhost:5000/api/orders/orderAAA\", {\n  statusCode: 200,\n  body: {\n    _id: \"orderAAA\",\n    user: {\n      _id: \"user999\",\n      name: \"Usuario Prueba\",\n      email: \"admin@test.com\"\n    },\n    items: [{\n      productId: \"prodA1\",\n      name: \"Producto Prueba\",\n      quantity: 1,\n      price: 8500\n    }],\n    total: 8500,\n    status: \"Completada\",\n    createdAt: \"2025-10-28T12:00:00.000Z\",\n    updatedAt: \"2025-10-28T12:00:00.000Z\"\n  }\n}).as(\"mockOrderDetail\");\n// Login con usuario sin compras reales\ncy.visit(\"/\");\ncy.login(Cypress.env(\"TEST_ADMIN_EMAIL\"), Cypress.env(\"TEST_ADMIN_PASSWORD\"));\ncy.get(\".avatar\").click();\ncy.contains(\"Mis Compras\").click();\n// espera la lista\ncy.wait(\"@mockMyOrdersFilled\");\ncy.contains(\"Completada\").should(\"exist\");\ncy.contains(\"$8.500,00\").should(\"exist\");\n// Clic en el link\ncy.contains(\"Orden #\").click();\n// espera el detalle\ncy.wait(\"@mockOrderDetail\");\n// validar que estamos en la URL correcta\ncy.url().should(\"include\", \"/orders/orderAAA\");\n// validar contenido del detalle\ncy.contains(\"Detalle de Orden\").should(\"exist\");\ncy.contains(\"Producto Prueba\").should(\"exist\");\ncy.contains(\"$8.500,00\").should(\"exist\");",
              "err": {},
              "uuid": "8c318f36-c452-440b-8680-b3538d8f4a54",
              "parentUUID": "c29d8e19-c1f3-4aa0-8441-933db1d673f5",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "e1af1544-7811-4afb-803a-5f3054537a6e",
            "8c318f36-c452-440b-8680-b3538d8f4a54"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 5275,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    },
    {
      "uuid": "df2b4fcc-ec5e-46b2-ae80-1667ba6e8b94",
      "title": "",
      "fullFile": "cypress\\e2e\\productDetail.cy.js",
      "file": "cypress\\e2e\\productDetail.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "0fdf799d-31a7-43d9-b484-cd3b3bd85a60",
          "title": "Pagina detalles del producto",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "muestra el producto válido correctamente",
              "fullTitle": "Pagina detalles del producto muestra el producto válido correctamente",
              "timedOut": null,
              "duration": 6346,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// flujo normal desde home\ncy.get(\"nav\").should(\"be.visible\");\ncy.get(\".grid a\").first().should(\"contain.text\", \"Ver detalles\").click();\ncy.url().should(\"include\", \"/product/\");\ncy.contains(\"Agregar al carrito\").should(\"be.visible\").and(\"not.be.disabled\");\n//imagen\ncy.get('[data-test = \"product-image\"]').should(\"be.visible\").and($imagen => {\n  //$imagen es lo obtenido en el get ( una especie de objeto del dom)\n  expect($imagen[0].naturalWidth).to.be.greaterThan(0);\n});\n//titulo\ncy.get(\"h1\").should(\"exist\").and(\"not.be.empty\");\n// Precio\ncy.get('[data-test = \"product-price\"]').should(\"be.visible\").invoke(\"text\").should(\"not.be.empty\").and(\"include\", \"$\");\n//Titulo desc\ncy.contains(\"Descripción\").should(\"be.visible\");\n//Contenido desc\ncy.get('[data-test=\"product-description\"]').should(\"exist\").invoke(\"text\").then(text => {\n  expect(text.trim().length).to.be.greaterThan(0);\n});\n//Testeo zoom imagen\ncy.get('[data-test=\"img-zoom\"]').should('have.class', 'cursor-zoom-in').click().should('have.class', 'cursor-zoom-out');",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: expected 0 to be above 0",
                "estack": "AssertionError: Timed out retrying after 4000ms: expected 0 to be above 0\n    at Context.eval (webpack:///./cypress/e2e/productDetail.cy.js:20:44)\n    at <unknown> (http://localhost:5173/__cypress/runner/cypress_runner.js:121042:17)\n    at tryCatcher (http://localhost:5173/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise.attempt.Promise.try (http://localhost:5173/__cypress/runner/cypress_runner.js:4285:29)\n    at Context.shouldFnWithCallback (http://localhost:5173/__cypress/runner/cypress_runner.js:121039:66)\n    at Context.shouldFn (http://localhost:5173/__cypress/runner/cypress_runner.js:121082:37)",
                "diff": ""
              },
              "uuid": "43c7cb4c-24af-4f00-926f-4a12efe2fd8f",
              "parentUUID": "0fdf799d-31a7-43d9-b484-cd3b3bd85a60",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "muestra mensaje de error 404 cuando no existe el producto",
              "fullTitle": "Pagina detalles del producto muestra mensaje de error 404 cuando no existe el producto",
              "timedOut": null,
              "duration": 1231,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// intercept con status 404\nconst fakeId = \"invalid_id\"; // ID válido pero inexistente\ncy.intercept(\"GET\", `**/api/products/${fakeId}`, {\n  statusCode: 404,\n  body: {\n    message: \"Producto no encontrado\"\n  }\n}).as(\"getProduct404\");\ncy.visit(`/product/${fakeId}`);\ncy.wait(\"@getProduct404\");\ncy.contains(\"El producto no existe o fue eliminado.\").should(\"be.visible\");\ncy.contains(\"Volver al catálogo\").should(\"be.visible\");\ncy.get('[data-test=\"product-image\"]').should(\"not.exist\");",
              "err": {},
              "uuid": "b246729c-5734-4f35-81d8-2f27725ba9c9",
              "parentUUID": "0fdf799d-31a7-43d9-b484-cd3b3bd85a60",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "muestra mensaje de error 500 cuando hay fallo del servidor",
              "fullTitle": "Pagina detalles del producto muestra mensaje de error 500 cuando hay fallo del servidor",
              "timedOut": null,
              "duration": 1038,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// intercept con status 500\nconst fakeId = \"fake-id\"; // ID mal formado (simula error interno)\ncy.intercept(\"GET\", `**/api/products/${fakeId}`, {\n  statusCode: 500,\n  body: {\n    message: \"Error interno del servidor\"\n  }\n}).as(\"getProduct500\");\ncy.visit(`/product/${fakeId}`);\ncy.wait(\"@getProduct500\");\ncy.contains(\"Ocurrió un error en el servidor. Intenta más tarde.\").should(\"be.visible\");\ncy.contains(\"Volver al catálogo\").should(\"be.visible\");\ncy.get('[data-test=\"product-title\"]').should(\"not.exist\");",
              "err": {},
              "uuid": "e70a0642-48d7-409c-a320-b30a4bc920bc",
              "parentUUID": "0fdf799d-31a7-43d9-b484-cd3b3bd85a60",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "b246729c-5734-4f35-81d8-2f27725ba9c9",
            "e70a0642-48d7-409c-a320-b30a4bc920bc"
          ],
          "failures": [
            "43c7cb4c-24af-4f00-926f-4a12efe2fd8f"
          ],
          "pending": [],
          "skipped": [],
          "duration": 8615,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    },
    {
      "uuid": "44eaa78f-91b7-430a-a71a-82b3cd739cde",
      "title": "",
      "fullFile": "cypress\\e2e\\profile.cy.js",
      "file": "cypress\\e2e\\profile.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "192ddd77-b1c7-4ce5-bd24-3c7d1a0a2c89",
          "title": "Funcionamiento de perfil de usuario y edicion",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "Debería abrir el perfil desde el avatar",
              "fullTitle": "Funcionamiento de perfil de usuario y edicion Debería abrir el perfil desde el avatar",
              "timedOut": null,
              "duration": 7469,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.login(Cypress.env(\"TEST_ADMIN_EMAIL\"), Cypress.env(\"TEST_ADMIN_PASSWORD\"));\ncy.get(\".avatar\").click();\ncy.contains(\"Mi Perfil\").click();\ncy.url().should('include', '/profile');\ncy.contains(\"Editar Perfil\").should(\"be.visible\");\ncy.get('[data-test=\"profile-avatar\"]').should(\"be.visible\");\ncy.get('[data-test=\"profile-name\"]').should(\"be.visible\");\ncy.get('[data-test=\"profile-email\"]').should(\"be.visible\");\ncy.get('[data-test=\"profile-phone\"]').should(\"be.visible\");\ncy.get('[data-test=\"profile-address\"]').should(\"be.visible\");\ncy.get('[data-test=\"profile-registered\"]').should(\"be.visible\");\ncy.contains(\"Editar Perfil\").click();\ncy.get('input[name=\"name\"]').clear().type(\"Nuevo Nombre\");\ncy.get('input[name=\"email\"]').clear().type(\"nuevo_mail@test.com\");\ncy.get('input[name=\"phone\"]').clear().type(\"1111111\");\ncy.get('input[name=\"address\"]').clear().type(\"Nueva calle\");\ncy.contains(\"Guardar\").click();\ncy.wait(\"@mockProfileUpdate\");\ncy.contains(\"Perfil actualizado\").should(\"be.visible\");\n//verifico nombre nuevo\ncy.get('[data-test=\"profile-name\"]').should(\"have.text\", \"Nuevo Nombre\");\n//Edito pero cancelo:\ncy.contains(\"Editar Perfil\").click();\ncy.get('input[name=\"name\"]').clear().type(\"Cancelar Nombre\");\ncy.contains(\"Cancelar\").click();\ncy.get('[data-test=\"profile-name\"]').should(\"have.text\", \"Nuevo Nombre\");",
              "err": {},
              "uuid": "56d08b6b-8a7d-4480-8b22-88db0e0ba9c4",
              "parentUUID": "192ddd77-b1c7-4ce5-bd24-3c7d1a0a2c89",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "56d08b6b-8a7d-4480-8b22-88db0e0ba9c4"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 7469,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    },
    {
      "uuid": "3137dcc0-149f-4463-be99-7c923ef45c47",
      "title": "",
      "fullFile": "cypress\\e2e\\session_expired.cy.js",
      "file": "cypress\\e2e\\session_expired.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "9ea5779c-8ae4-4bb4-862f-2bf525fceb8f",
          "title": "Sesión expirada",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "muestra Swal y redirige al login",
              "fullTitle": "Sesión expirada muestra Swal y redirige al login",
              "timedOut": null,
              "duration": 2143,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.intercept(\"GET\", \"/api/orders\", {\n  statusCode: 401,\n  body: {\n    message: \"Token expirado\"\n  }\n}).as(\"getOrders\");\ncy.visit(\"/admin/orders\");\n// Swal visible\ncy.contains(\"Sesión expirada\").should(\"be.visible\");\ncy.contains(\"Ir al login\").click();\ncy.url().should(\"include\", \"/login\");\ncy.window().then(win => {\n  expect(win.localStorage.getItem(\"auth\")).to.be.null;\n});",
              "err": {},
              "uuid": "bac9bec6-e7b9-4b57-8766-661ed2bffa7d",
              "parentUUID": "9ea5779c-8ae4-4bb4-862f-2bf525fceb8f",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "bac9bec6-e7b9-4b57-8766-661ed2bffa7d"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 2143,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    },
    {
      "uuid": "f0d7cf47-fbd0-4422-8e9a-040ea781bab2",
      "title": "",
      "fullFile": "cypress\\e2e\\adminPanel.cy.js",
      "file": "cypress\\e2e\\adminPanel.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "755fdbec-219e-46ac-b04e-d3100f3c4b7e",
          "title": "Funcionamiento del panel de admin usuarios",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "Prueba panel oculto usuario no admin",
              "fullTitle": "Funcionamiento del panel de admin usuarios Prueba panel oculto usuario no admin",
              "timedOut": null,
              "duration": 2537,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.login();\ncy.get(\".avatar\").should(\"be.visible\").click();\n// Verifico que la opcion del panel no exista para usuario comun\ncy.contains(\"Panel de admin\").should(\"not.exist\");",
              "err": {},
              "uuid": "bbc7cca3-e788-46a7-86cd-7bfe46886c22",
              "parentUUID": "755fdbec-219e-46ac-b04e-d3100f3c4b7e",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Prueba panel para admins",
              "fullTitle": "Funcionamiento del panel de admin usuarios Prueba panel para admins",
              "timedOut": null,
              "duration": 1845,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.login(Cypress.env(\"TEST_ADMIN_EMAIL\"), Cypress.env(\"TEST_ADMIN_PASSWORD\"));\ncy.get(\".avatar\").should(\"be.visible\").click();\ncy.contains(\"Panel de Admin\").should(\"be.visible\").click();\ncy.contains(\"Panel Admin\").should(\"be.visible\");\ncy.contains(\"Gestión de Usuarios\").should(\"be.exist\");\ncy.get('[data-test=\"tabla-users\"]').should(\"be.visible\");\ncy.get(\"tbody tr\").eq(0).should(\"be.visible\").within($linea => {\n  cy.get('[data-test=\"cy-name\"]').should(\"be.visible\");\n  cy.get('[data-test=\"cy-email\"]').should(\"be.visible\");\n  cy.get('[data-test=\"user-rol\"]').should(\"be.visible\");\n  cy.get('[data-test=\"btn-cambia-rol\"]').should(\"be.visible\");\n  cy.get('[data-test=\"btn-eliminar\"]').should(\"be.visible\");\n});",
              "err": {},
              "uuid": "721c1a9f-efda-4784-9044-0dc68f2cfa9e",
              "parentUUID": "755fdbec-219e-46ac-b04e-d3100f3c4b7e",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Verifica que el admin logueado no puede cambiar su rol ni eliminarse",
              "fullTitle": "Funcionamiento del panel de admin usuarios Verifica que el admin logueado no puede cambiar su rol ni eliminarse",
              "timedOut": null,
              "duration": 2002,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.login(Cypress.env(\"TEST_ADMIN_EMAIL\"), Cypress.env(\"TEST_ADMIN_PASSWORD\"));\ncy.get(\".avatar\").click();\ncy.contains(\"Panel de Admin\").click();\ncy.get('[data-test=\"tabla-users\"]').should(\"be.visible\");\n// Busco fila con su propio email\ncy.contains('[data-test=\"cy-email\"]', Cypress.env(\"TEST_ADMIN_EMAIL\")).parents(\"tr\").within(() => {\n  cy.get('[data-test=\"btn-cambia-rol\"]').should(\"be.disabled\");\n  cy.get('[data-test=\"btn-eliminar\"]').should(\"be.disabled\");\n});",
              "err": {},
              "uuid": "0ce0de5b-dad0-4b3a-a16b-2a930156a20d",
              "parentUUID": "755fdbec-219e-46ac-b04e-d3100f3c4b7e",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Mockea cambio de rol sin tocar base real",
              "fullTitle": "Funcionamiento del panel de admin usuarios Mockea cambio de rol sin tocar base real",
              "timedOut": null,
              "duration": 2646,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.intercept(\"GET\", \"http://localhost:5000/api/users\", {\n  statusCode: 200,\n  body: [{\n    _id: \"1\",\n    name: \"Admin\",\n    email: \"admin@test.com\",\n    isAdmin: true\n  }, {\n    _id: \"2\",\n    name: \"Usuario Test\",\n    email: \"usuario@test.com\",\n    isAdmin: false\n  }]\n}).as(\"mockUsers\");\ncy.intercept(\"PUT\", \"http://localhost:5000/api/users/*\", {\n  statusCode: 200,\n  body: {\n    _id: \"2\",\n    name: \"Usuario Test\",\n    email: \"usuario@test.com\",\n    isAdmin: true // simulacion de cambio de rol\n  }\n}).as(\"mockToggleRole\");\ncy.login(Cypress.env(\"TEST_ADMIN_EMAIL\"), Cypress.env(\"TEST_ADMIN_PASSWORD\"));\ncy.visit(\"/admin\");\ncy.wait(\"@mockUsers\");\ncy.get('[data-test=\"tabla-users\"]').should(\"be.visible\");\ncy.contains('[data-test=\"cy-email\"]', \"usuario@test.com\").parents(\"tr\").within(() => {\n  cy.get('[data-test=\"btn-cambia-rol\"]').click();\n});\n// confirmamos SweetAlert\ncy.get(\".swal2-confirm\").click();\ncy.wait(\"@mockToggleRole\").its(\"response.statusCode\").should(\"eq\", 200);\ncy.contains(\"Usuario actualizado\").should(\"be.visible\");",
              "err": {},
              "uuid": "e824340b-4607-4e67-b2ab-3a39d2f272d6",
              "parentUUID": "755fdbec-219e-46ac-b04e-d3100f3c4b7e",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Mockea eliminar sin tocar base real",
              "fullTitle": "Funcionamiento del panel de admin usuarios Mockea eliminar sin tocar base real",
              "timedOut": null,
              "duration": 2810,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.intercept(\"GET\", \"http://localhost:5000/api/users\", {\n  statusCode: 200,\n  body: [{\n    _id: \"1\",\n    name: \"Admin\",\n    email: \"admin@test.com\",\n    isAdmin: true\n  }, {\n    _id: \"2\",\n    name: \"Usuario Test\",\n    email: \"usuario@test.com\",\n    isAdmin: false\n  }]\n}).as(\"mockUsers\");\ncy.intercept(\"DELETE\", \"http://localhost:5000/api/users/*\", {\n  statusCode: 200,\n  body: {\n    message: \"Usuario eliminado\"\n  }\n}).as(\"mockDeleteUser\");\ncy.login(Cypress.env(\"TEST_ADMIN_EMAIL\"), Cypress.env(\"TEST_ADMIN_PASSWORD\"));\ncy.visit(\"/admin\");\ncy.wait(\"@mockUsers\");\ncy.get('[data-test=\"tabla-users\"]').should(\"be.visible\");\ncy.contains('[data-test=\"cy-email\"]', \"usuario@test.com\").parents(\"tr\").within(() => {\n  cy.get('[data-test=\"btn-eliminar\"]').click();\n});\n// confirmamos SweetAlert\ncy.get(\".swal2-confirm\").click();\ncy.wait(\"@mockDeleteUser\").its(\"response.statusCode\").should(\"eq\", 200);\ncy.contains(\"Usuario eliminado\").should(\"be.visible\");",
              "err": {},
              "uuid": "0ba496b1-8560-4ca6-9048-13b397af6455",
              "parentUUID": "755fdbec-219e-46ac-b04e-d3100f3c4b7e",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "bbc7cca3-e788-46a7-86cd-7bfe46886c22",
            "721c1a9f-efda-4784-9044-0dc68f2cfa9e",
            "0ce0de5b-dad0-4b3a-a16b-2a930156a20d",
            "e824340b-4607-4e67-b2ab-3a39d2f272d6",
            "0ba496b1-8560-4ca6-9048-13b397af6455"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 11840,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "18be83db-5feb-4c7e-bbd9-aad6c11397d9",
          "title": "Verificar funcionamiento de panel admin productos",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "Verificar vista panel",
              "fullTitle": "Verificar funcionamiento de panel admin productos Verificar vista panel",
              "timedOut": null,
              "duration": 1992,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.wait(\"@mockProducts\");\ncy.get(\"table\").should(\"be.visible\");\ncy.get('[data-test=\"cy-name\"]').contains(\"Reloj\");\ncy.get('[data-test=\"tabla-products\"] tr').should(\"have.length\", 1);\n//otra forma para lo mismo (find) \n//cy.get('[data-test=\"tabla-products\"]').find(\"tr\").should(\"have.length\", 1);",
              "err": {},
              "uuid": "082dab45-0bc0-4421-8d65-8f9054183cc8",
              "parentUUID": "18be83db-5feb-4c7e-bbd9-aad6c11397d9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Alta de nuevo producto",
              "fullTitle": "Verificar funcionamiento de panel admin productos Alta de nuevo producto",
              "timedOut": null,
              "duration": 4641,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "//Intercepto creacion nuevo producto\ncy.intercept(\"POST\", \"http://localhost:5000/api/products\", {\n  statusCode: 200,\n  body: {\n    _id: \"3\",\n    name: \"Celular iphone\",\n    description: \"Celular IOS ultima tecnologia\",\n    image: \"https://res.cloudinary.com/dzaqvpxqk/image/upload/v1757014234/ecommerce/wimp32lkzkt47pqjb302.jpg\",\n    price: 650000,\n    stock: 14\n  }\n}).as(\"mockNewProduct\");\n//Muestra el producto inicial base\ncy.wait(\"@mockProducts\");\n//Verifica que este en la tabla\ncy.get('[data-test=\"tabla-products\"]');\ncy.get('input[name=\"name\"]').click().type(\"Celular iphone\");\ncy.get('input[name=\"description\"]').click().type(\"Celular IOS ultima tecnologia\");\ncy.get('input[name=\"price\"]').click().type(\"650000\");\ncy.get('input[name=\"stock\"]').click().type(\"15\");\n// Simula la carga de la imagen desde el archivo en la carpeta /fixtures raiz \ncy.get('input[name=\"image\"]').selectFile('cypress/fixtures/celular.jpg', {\n  force: true\n});\ncy.contains(\"Crear Producto\").click();\ncy.wait(\"@mockNewProduct\");\n//Verifica los 2 productos en la tabla\ncy.get('[data-test=\"tabla-products\"]');\n//Verifico que esten los 2 productos, el inicial y el reloj creado\ncy.get('[data-test=\"tabla-products\"] tr').should(\"have.length\", 2);",
              "err": {},
              "uuid": "9b493617-92a8-4363-bb39-c4d7c756e514",
              "parentUUID": "18be83db-5feb-4c7e-bbd9-aad6c11397d9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Edita un producto existente",
              "fullTitle": "Verificar funcionamiento de panel admin productos Edita un producto existente",
              "timedOut": null,
              "duration": 2374,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// intercept PUT\ncy.intercept(\"PUT\", \"http://localhost:5000/api/products/*\", {\n  body: {\n    _id: \"1\",\n    name: \"Reloj\",\n    description: \"Reloj digital con alarma, cronómetro, sumergible hasta 50 metros y correa de silicona negra.\",\n    image: \"https://res.cloudinary.com/dzaqvpxqk/image/upload/v1757014155/ecommerce/hllxrch0rfxdtusfxiyk.jpg\",\n    price: 35200.99,\n    stock: 5\n  }\n}).as(\"mockUpdateProduct\");\n// click en editar\ncy.get('[data-test=\"tabla-products\"] tr').eq(0).within(() => {\n  cy.contains(\"Editar\").click();\n});\n// modificar datos\ncy.get('input[name=\"price\"]').click().type(\"{selectall}35200.99\");\ncy.get('input[name=\"stock\"]').click().type(\"{selectall}5\");\ncy.contains(\"Actualizar Producto\").click();\ncy.wait(\"@mockUpdateProduct\");\n// valida tabla actualizada\ncy.get('[data-test=\"tabla-products\"] tr').eq(0).find(\"td\").eq(3) // columna stock\n.should(\"have.text\", \"5\");",
              "err": {},
              "uuid": "91fec99f-de16-450b-ac40-ecbaecaf7ea7",
              "parentUUID": "18be83db-5feb-4c7e-bbd9-aad6c11397d9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Elimina un producto",
              "fullTitle": "Verificar funcionamiento de panel admin productos Elimina un producto",
              "timedOut": null,
              "duration": 1925,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// intercept DELETE\ncy.intercept(\"DELETE\", \"http://localhost:5000/api/products/*\", {\n  statusCode: 200,\n  //o puede no ir (por default es 200)\n  body: {\n    message: 'Producto eliminado'\n  }\n}).as(\"mockDeleteProduct\");\ncy.contains(\"No se encontraron productos\").should(\"not.exist\");\n// click eliminar\ncy.get('[data-test=\"tabla-products\"] tr').eq(0).within(() => {\n  cy.contains(\"Eliminar\").click();\n});\n// confirmar\ncy.get('.swal2-confirm').click();\ncy.contains(\"Producto eliminado\").should(\"be.visible\");\n// validar que desaparece de tabla\ncy.contains(\"No se encontraron productos\");",
              "err": {},
              "uuid": "c888129d-56af-48de-8a3a-a97abc2947fd",
              "parentUUID": "18be83db-5feb-4c7e-bbd9-aad6c11397d9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Valida errores en el formulario",
              "fullTitle": "Verificar funcionamiento de panel admin productos Valida errores en el formulario",
              "timedOut": null,
              "duration": 2866,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "//Muestra el producto inicial base\ncy.wait(\"@mockProducts\");\n// Intento enviar sin completar nada\ncy.contains(\"Crear Producto\").click();\n//En caso de verificar un campo en required(name en este caso):\ncy.get('input[name=\"name\"]').should('have.prop', 'validationMessage');\n// Verifico luego de mandar el form arriba de q la imagen no se mando entonces muestra un error de validacion html\n//el error dice \"selecciona un archivo\" por lo q es distinto de vacio (\"\") entonces el test pasa en verde.\ncy.get('input[name=\"image\"]').invoke(\"prop\", \"validationMessage\").should(\"not.equal\", \"\");\n// No debería crearse nada\ncy.contains(\"Producto creado\").should(\"not.exist\");\n// Ahora completo pero con precio negativo\ncy.get('input[name=\"name\"]').type(\"Producto X\");\ncy.get('input[name=\"description\"]').type(\"Desc X\");\ncy.get('input[name=\"price\"]').type(\"100\");\ncy.get('input[name=\"stock\"]').type(\"5\");\ncy.contains(\"Crear Producto\").click();\n// Sigue sin crearse nada porque falta completar el campo imagen entonces no se crea.\ncy.contains(\"Producto creado\").should(\"not.exist\");",
              "err": {},
              "uuid": "e08d33b4-3419-4224-8ac7-9035b722ea82",
              "parentUUID": "18be83db-5feb-4c7e-bbd9-aad6c11397d9",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "082dab45-0bc0-4421-8d65-8f9054183cc8",
            "9b493617-92a8-4363-bb39-c4d7c756e514",
            "91fec99f-de16-450b-ac40-ecbaecaf7ea7",
            "c888129d-56af-48de-8a3a-a97abc2947fd",
            "e08d33b4-3419-4224-8ac7-9035b722ea82"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 13798,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "a886dd52-8f5a-4000-acf6-014012445202",
          "title": "Verificar funcionamiento de panel admin ordenes",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "Verifica filtro de ordenes",
              "fullTitle": "Verificar funcionamiento de panel admin ordenes Verifica filtro de ordenes",
              "timedOut": null,
              "duration": 4294,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.wait(\"@mockOrders\");\ncy.get('[data-test=\"tabla-orders\"]').should(\"be.visible\");\ncy.get('[data-test= \"cy-filtrar\"]').should(\"be.visible\").click();\ncy.get('[data-test= \"input-filtro\"]').should(\"be.visible\").click().type(\"DER\");\ncy.get('[data-test=\"tabla-orders\"] tr').eq(0).within(() => {\n  cy.get('[data-test=\"cy-order-n\"]').should(\"contain\", \"DER123\");\n});\ncy.get('[data-test=\"input-filtro\"]').should(\"be.visible\").clear().type(\"AA00\");\ncy.get('[data-test=\"tabla-orders\"] tr').eq(0).within(() => {\n  cy.contains(\"No se encontraron órdenes\").should(\"be.visible\");\n});\ncy.get('[data-test= \"input-filtro\"]').should(\"be.visible\").clear();",
              "err": {},
              "uuid": "eaf49d6f-710d-4ed9-b8b7-99f61370be70",
              "parentUUID": "a886dd52-8f5a-4000-acf6-014012445202",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Verificar vista panel ordenes",
              "fullTitle": "Verificar funcionamiento de panel admin ordenes Verificar vista panel ordenes",
              "timedOut": null,
              "duration": 2598,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.wait(\"@mockOrders\");\ncy.get('[data-test=\"tabla-orders\"]').should(\"be.visible\");\n//Obtener la primer fila con el alias \"row\"\ncy.get('[data-test=\"tabla-orders\"] tr').eq(0).as(\"row\");\n// obtengo el row que guarde, verifico estado Pendiente antes de cambiarlo\ncy.get(\"@row\").find('[data-test=\"cy-order-status\"] select').should(\"have.value\", \"Pendiente\");\n// cambiar a Completada\ncy.get(\"@row\").find('[data-test=\"cy-order-status\"] select').select(\"Completada\");\n// esperar patch\ncy.wait(\"@updateOrder\");\n// dejar que React renderice\ncy.wait(0);\n// verificar nuevo valor\ncy.get(\"@row\").find('[data-test=\"cy-order-status\"] select').should(\"have.value\", \"Completada\");",
              "err": {},
              "uuid": "0f1d89c5-7c66-47a5-a50f-0053a2481341",
              "parentUUID": "a886dd52-8f5a-4000-acf6-014012445202",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Verificar el orden de detalle de la compra",
              "fullTitle": "Verificar funcionamiento de panel admin ordenes Verificar el orden de detalle de la compra",
              "timedOut": null,
              "duration": 2772,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const mockId = \"order123\";\ncy.intercept(\"GET\", `http://localhost:5000/api/orders/${mockId}`, {\n  statusCode: 200,\n  body: {\n    _id: \"order123\",\n    user: {\n      _id: \"user999\",\n      name: \"Usuario Prueba\",\n      email: \"admin@test.com\"\n    },\n    items: [{\n      productId: \"prodA1\",\n      name: \"Producto Demo A\",\n      quantity: 2,\n      price: 2500\n    }, {\n      productId: \"prodB2\",\n      name: \"Producto Demo B\",\n      quantity: 1,\n      price: 10000\n    }],\n    total: 15000,\n    status: \"Pendiente\",\n    createdAt: \"2025-10-28T12:00:00.000Z\",\n    updatedAt: \"2025-10-28T12:00:00.000Z\"\n  }\n}).as(\"mockOrderDetail\");\ncy.wait(\"@mockOrders\");\ncy.get('[data-test=\"tabla-orders\"]').should(\"be.visible\");\ncy.get('[data-test=\"tabla-orders\"] tr').eq(0).within(() => {\n  cy.get('[data-test=\"cy-order-goto\"]').click();\n});\ncy.wait(\"@mockOrderDetail\");\n// TITULO\ncy.contains(\"Detalle de Orden\").should(\"exist\");\n// INFO GENERAL\ncy.contains(\"Orden#DER123\");\ncy.contains(\"Pendiente\").should(\"exist\");\ncy.contains(\"$15.000,00\").should(\"exist\");\n// Verifica que los productos se listan\ncy.contains(\"Producto Demo A\").should(\"exist\");\ncy.contains(\"Producto Demo B\").should(\"exist\");\n// Verifica que hay 2 items en total\ncy.get(\"ul li\").should(\"have.length\", 2);\ncy.contains(\"Volver a mis compras\").click();\ncy.url().should(\"include\", \"/myorders\");",
              "err": {},
              "uuid": "6516424f-79cd-4836-9d8b-c47fa6f67619",
              "parentUUID": "a886dd52-8f5a-4000-acf6-014012445202",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "eaf49d6f-710d-4ed9-b8b7-99f61370be70",
            "0f1d89c5-7c66-47a5-a50f-0053a2481341",
            "6516424f-79cd-4836-9d8b-c47fa6f67619"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 9664,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "7.2.0"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": false,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.4"
    },
    "marge": {
      "options": {
        "reportDir": "cypress/reports/json",
        "overwrite": false,
        "html": false,
        "json": true
      },
      "version": "6.3.2"
    }
  }
}